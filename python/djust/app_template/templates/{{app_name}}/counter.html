{# 
Counter Template - Basic djust LiveView Example

This template demonstrates core djust directives:
- dj-click: Trigger event handlers on click
- dj-loading: Show loading state during server requests
- {{ variable }}: Standard Django template variable rendering

The view state (count) is reactive - changes trigger DOM updates automatically.
#}

<div class="counter-container">
    <h1>djust Counter</h1>
    
    {# 
    dj-loading adds 'loading' class during any server request.
    Use it to show spinners, disable buttons, etc.
    #}
    <div class="counter-display" dj-loading="class:updating">
        <span class="count">{{ count }}</span>
    </div>
    
    <div class="counter-controls">
        {# 
        dj-click="handler_name" calls the @event_handler method on the view.
        The click event is intercepted, sent via WebSocket, handler runs,
        and the DOM is patched with the new state.
        #}
        <button dj-click="decrement" class="btn btn-secondary">
            − Decrement
        </button>
        
        <button dj-click="increment" class="btn btn-primary">
            + Increment
        </button>
        
        <button dj-click="reset" class="btn btn-outline">
            ↺ Reset
        </button>
    </div>
    
    {# 
    dj-click with parameters: pass data to handler.
    Values from data-* attributes are passed as kwargs.
    #}
    <div class="quick-set">
        <span>Quick set:</span>
        <button dj-click="set_count" data-value="0">0</button>
        <button dj-click="set_count" data-value="10">10</button>
        <button dj-click="set_count" data-value="100">100</button>
    </div>
</div>

<style>
    .counter-container {
        max-width: 400px;
        margin: 2rem auto;
        padding: 2rem;
        text-align: center;
        font-family: system-ui, -apple-system, sans-serif;
    }
    
    .counter-display {
        font-size: 4rem;
        font-weight: bold;
        margin: 2rem 0;
        padding: 1rem;
        border-radius: 8px;
        background: #f5f5f5;
        transition: opacity 0.2s;
    }
    
    /* Applied by dj-loading="class:updating" during requests */
    .counter-display.updating {
        opacity: 0.5;
    }
    
    .counter-controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .btn {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        border: 2px solid #333;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .btn-primary {
        background: #333;
        color: white;
    }
    
    .btn-secondary {
        background: white;
        color: #333;
    }
    
    .btn-outline {
        background: transparent;
        border-style: dashed;
    }
    
    .quick-set {
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid #eee;
    }
    
    .quick-set button {
        margin: 0 0.25rem;
        padding: 0.5rem 1rem;
        background: #f0f0f0;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
    }
    
    .quick-set button:hover {
        background: #e0e0e0;
    }
</style>
